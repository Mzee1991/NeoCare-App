
ck content %}
<div class="container">
  <h1>Newborn Ward Dashboard</h1>
  <div class="row">
    <div class="col-md-4">
      <h2>New Admissions Today</h2>
      <ul class="list-group">
        {% for newborn in new_admissions %}
          <li class="list-group-item">{{ newborn.name }} ({{ newborn.sex }})</li>
        {% empty %}
          <p>No new admissions today.</p>
        {% endfor %}
      </ul>
    </div>
    <div class="col-md-4">
      <h2>Discharges Today</h2>
      <ul class="list-group">
        {% for newborn in discharges %}
          <li class="list-group-item">{{ newborn.name }} ({{ newborn.sex }})</li>
        {% empty %}
          <p>No discharges today.</p>
        {% endfor %}
      </ul>
    </div>
    <div class="col-md-12 row">
      <div class="col-md-4">
        <h2>Age Distribution</h2>
        <canvas id="age-chart"></canvas>
      </div>
      <div class="col-md-4">
        <h2>Sex Distribution</h2>
        <canvas id="sex-chart"></canvas>
      </div>
      <div class="col-md-4">
        <h2>Diagnosis Distribution</h2>
        <canvas id="diagnosis-chart"></canvas>
      </div>
    </div>
  </div>
</div>

<script>
  // Set up age chart
  var ageData = {
    labels: ['0-1', '1-2', '2-3', '3-4', '4-5'],
    datasets: [{
      label: 'Age Distribution',
      data: {{ age_distribution|safe }},
      backgroundColor: [
        'rgba(255, 99, 132, 0.2)',
        'rgba(54, 162, 235, 0.2)',
        'rgba(255, 206, 86, 0.2)',
        'rgba(75, 192, 192, 0.2)',
        'rgba(153, 102, 255, 0.2)'
      ],
      borderColor: [
        'rgba(255, 99, 132, 1)',
        'rgba(54, 162, 235, 1)',
        'rgba(255, 206, 86, 1)',
        'rgba(75, 192, 192, 1)',
        'rgba(153, 102, 255, 1)'
      ],
      borderWidth: 1
    }]
  };
  var ageChart = new Chart(document.getElementById('age-chart'), {
    type: 'bar',
    data: ageData,
    options: {
      scales: {
        yAxes: [{
          ticks: {
            beginAtZero: true
          }
        }]
      }
    }
  });

  // Set up sex chart
  var sexData = {
    labels: ['Male', 'Female'],
    datasets: [{
      label: 'Sex Distribution',
      data: {{ sex_distribution|safe }},
      backgroundColor: [
        'rgba(54, 162, 235, 0.2)',
        'rgba(255, 206, 86, 0.2)'
		],
rderColor: [
'rgba(54, 162, 235, 1)',
'rgba(255, 206, 86, 1)'
],
borderWidth: 1
}]
};
var sexChart = new Chart(document.getElementById('sex-chart'), {
type: 'pie',
data: sexData,
options: {
scales: {
yAxes: [{
ticks: {
beginAtZero: true
}
}]
}
}
});

// Set up diagnosis chart
var diagnosisData = {
labels: {{ diagnosis_labels|safe }},
datasets: [{
label: 'Diagnosis Distribution',
data: {{ diagnosis_distribution|safe }},
backgroundColor: [
'rgba(255, 99, 132, 0.2)',
'rgba(54, 162, 235, 0.2)',
'rgba(255, 206, 86, 0.2)',
'rgba(75, 192, 192, 0.2)',
'rgba(153, 102, 255, 0.2)'
],
borderColor: [
'rgba(255, 99, 132, 1)',
'rgba(54, 162, 235, 1)',
'rgba(255, 206, 86, 1)',
'rgba(75, 192, 192, 1)',
'rgba(153, 102, 255, 1)'
],
borderWidth: 1
}]
};
var diagnosisChart = new Chart(document.getElementById('diagnosis-chart'), {
type: 'bar',
data: diagnosisData,
options: {
scales: {
yAxes: [{
ticks: {
beginAtZero: true
}
}]
}
}
});
</script>

